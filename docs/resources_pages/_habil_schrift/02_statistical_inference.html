<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>3&nbsp; Statistical inferences – Modeling variationist corpus data: A mixed-effects framework</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./03_data_structure.html" rel="next">
<link href="./01_research_objectives.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating slimcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./02_statistical_inference.html"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Statistical inferences</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Modeling variationist corpus data: A mixed-effects framework</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./00_intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01_research_objectives.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Research objectives</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02_statistical_inference.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Statistical inferences</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03_data_structure.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Data structure</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04_statistical_models.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Statistical models: Integration of research objectives and data structure</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05_model_specification.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Model specification</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06_token_level_predictors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Token-level predictors</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07_foregrounding_variation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Foregrounding variation</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08_modeling_tactics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Modeling tactics</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./09_model_predictions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Model summary: Adjusted predictions and comparisons</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#relation-to-scientific-objectives" id="toc-relation-to-scientific-objectives" class="nav-link active" data-scroll-target="#relation-to-scientific-objectives"><span class="header-section-number">3.1</span> Relation to scientific objectives</a></li>
  <li><a href="#rationale" id="toc-rationale" class="nav-link" data-scroll-target="#rationale"><span class="header-section-number">3.2</span> Rationale</a>
  <ul class="collapse">
  <li><a href="#sampling-from-a-population" id="toc-sampling-from-a-population" class="nav-link" data-scroll-target="#sampling-from-a-population"><span class="header-section-number">3.2.1</span> Sampling from a population</a></li>
  </ul></li>
  <li><a href="#sec-stat-inf-sample-struc-pop" id="toc-sec-stat-inf-sample-struc-pop" class="nav-link" data-scroll-target="#sec-stat-inf-sample-struc-pop"><span class="header-section-number">3.3</span> Sampling from a structured population</a>
  <ul class="collapse">
  <li><a href="#stratified-sampling" id="toc-stratified-sampling" class="nav-link" data-scroll-target="#stratified-sampling"><span class="header-section-number">3.3.1</span> Stratified sampling</a></li>
  <li><a href="#cluster-sampling" id="toc-cluster-sampling" class="nav-link" data-scroll-target="#cluster-sampling"><span class="header-section-number">3.3.2</span> Cluster sampling</a></li>
  <li><a href="#cluster-sampling-estimating-averages" id="toc-cluster-sampling-estimating-averages" class="nav-link" data-scroll-target="#cluster-sampling-estimating-averages"><span class="header-section-number">3.3.3</span> Cluster sampling: Estimating averages</a></li>
  <li><a href="#cluster-sampling-estimating-differences" id="toc-cluster-sampling-estimating-differences" class="nav-link" data-scroll-target="#cluster-sampling-estimating-differences"><span class="header-section-number">3.3.4</span> Cluster sampling: Estimating differences</a></li>
  </ul></li>
  <li><a href="#random-sampling-as-a-methodological-device" id="toc-random-sampling-as-a-methodological-device" class="nav-link" data-scroll-target="#random-sampling-as-a-methodological-device"><span class="header-section-number">3.4</span> Random sampling as a methodological device</a>
  <ul class="collapse">
  <li><a href="#the-role-of-random-sampling" id="toc-the-role-of-random-sampling" class="nav-link" data-scroll-target="#the-role-of-random-sampling"><span class="header-section-number">3.4.1</span> The role of random sampling</a></li>
  <li><a href="#relation-to-inference-types" id="toc-relation-to-inference-types" class="nav-link" data-scroll-target="#relation-to-inference-types"><span class="header-section-number">3.4.2</span> Relation to inference types</a></li>
  <li><a href="#inferences-from-non-random-samples" id="toc-inferences-from-non-random-samples" class="nav-link" data-scroll-target="#inferences-from-non-random-samples"><span class="header-section-number">3.4.3</span> Inferences from non-random samples</a></li>
  </ul></li>
  <li><a href="#corpus-data-non-random-samples" id="toc-corpus-data-non-random-samples" class="nav-link" data-scroll-target="#corpus-data-non-random-samples"><span class="header-section-number">3.5</span> Corpus data: Non-random samples</a>
  <ul class="collapse">
  <li><a href="#corpus-compilation" id="toc-corpus-compilation" class="nav-link" data-scroll-target="#corpus-compilation"><span class="header-section-number">3.5.1</span> Corpus compilation</a></li>
  <li><a href="#corpus-data" id="toc-corpus-data" class="nav-link" data-scroll-target="#corpus-data"><span class="header-section-number">3.5.2</span> Corpus data</a></li>
  </ul></li>
  <li><a href="#populations-in-language-data-analysis" id="toc-populations-in-language-data-analysis" class="nav-link" data-scroll-target="#populations-in-language-data-analysis"><span class="header-section-number">3.6</span> Populations in language data analysis</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="sec-statistical-inferences" class="quarto-section-identifier"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Statistical inferences</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>As researchers, it is usually our aim to use a particular set of data to make statements that hold more generally. This means that we would like to extend the insights gained from our <em>sample</em> to a broader set of contexts or entities – the <em>population</em>. Due to its everyday meaning, the term population is most easily linked to a large collection of speakers to which we may wish to generalize (e.g.&nbsp;all native speakers of English). The technical term serves a wider purpose, however. The statistical notion of a population can refer to finite or infinite collections of observations or units. Thus, at the level of the individual speaker, a sample of speech (or writing) could be drawn to make inferences about the language use of this individual. For a particular language, a sample could be drawn from the population of (i) inanimate nouns, (ii) transitive verbs, or (iii) gradable adjectives.</p>
<section id="relation-to-scientific-objectives" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="relation-to-scientific-objectives"><span class="header-section-number">3.1</span> Relation to scientific objectives</h2>
<p>Let us start by clarifying the supplementary function of statistical inferences in the context of our scientific objectives (see <a href="01_research_objectives.html#fig-scientific-objectives" class="quarto-xref">Figure&nbsp;<span>2.1</span></a>)). First, statistical inferences are descriptive inferences: They produce uncertainty statements on the outcome scale. We will therefore use the terms “statistical inference” and “descriptive inference” interchangeably. As for the second dimension, statistical inferences allow us to generalize beyond the observed set of units, and are therefore geared towards broad inference. Recall, however, the different levels of generality illustrated in <a href="01_research_objectives.html#fig-levels-of-generality-speakers" class="quarto-xref">Figure&nbsp;<span>2.4</span></a> and <a href="01_research_objectives.html#fig-levels-of-generality-words" class="quarto-xref">Figure&nbsp;<span>2.5</span></a>.</p>
</section>
<section id="rationale" class="level2 page-columns page-full" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="rationale"><span class="header-section-number">3.2</span> Rationale</h2>
<p>To illustrate the rationale behind statistical inference, let us consider the ideal setting: There is a <em>well-defined, large population</em> about which we wish to make inferences. Of interest is a certain feature of this population, which can be expressed quantitatively, say, using a percentage. If we were able to study the entire population, this quantity, called the <em>population parameter</em>, would be known with certainty. However, we can only study a much smaller subset of the population. We will discuss two settings. In the first, the population is unstructured in the sense that, for the inferential task at hand, there are no relevant groups, or sub-populations. In the second setting, the population can be partitioned into meaningful subgroups – we first select groups and then sample from these groups.</p>
<section id="sampling-from-a-population" class="level3 page-columns page-full" data-number="3.2.1">
<h3 data-number="3.2.1" class="anchored" data-anchor-id="sampling-from-a-population"><span class="header-section-number">3.2.1</span> Sampling from a population</h3>
<p>Let us first consider the unstructured setting. To estimate the population parameter, we draw a <em>random sample</em>, say, of size 80. Random sampling means that each unit in the population has the same probability of being selected. This sample of 80 units then forms the basis of our statistical inferences about the underlying population. We calculate the quantity of interest using our sample data. This yields a <em>sample statistic</em>, our best guess at the population parameter.</p>
<p>Inferential statistics is based on the following idea: While we have ended up with our specific sample, we could, in principle, have obtained a different set of observations from the population. In that sample, the percentage (our estimate) would have been different. This sample-to-sample variation leads to uncertainty surrounding our sample statistic: Our sample-based estimate will differ from the population parameter due to sampling variation and sampling error.</p>
<p>Sampling variation can be illustrated using simulation. We first need to define a population and a population parameter (e.g.&nbsp;a percentage). From this population we then repeatedly draw samples of size 80 and observe how the sample-based estimates fluctuate around the true value, i.e.&nbsp;how much they are in error. <a href="#fig-sim-illustrate-random-sampling" class="quarto-xref">Figure&nbsp;<span>3.1</span></a> shows a simulated sampling setting, with the population parameter set to 1/3 (or 33%). We draw 100 samples from this population. The estimated proportions, each based on 80 observations, seesaw around the population parameter of 1/3, which is marked with a grey horizontal line. The dot diagram at the right margin collects these 100 estimated proportions and shows their distribution around the target parameter. Panel (b) shows the same simulation setting, but with smaller sample sizes (20 instead of 80). With smaller samples, we observe greater variation among estimates. On average, the estimates are further from the true parameter.</p>
<p>Each point estimate in <a href="#fig-sim-illustrate-random-sampling" class="quarto-xref">Figure&nbsp;<span>3.1</span></a> comes with an uncertainty estimate, in the present case a 95% confidence interval. Confidence intervals are a statistical tool that can be used to express the uncertainty surrounding a sample statistic. For the present data setting, where the outcome is binary and the estimated quantity is a proportion, statistics offers methods for computing confidence intervals. This method is designed to perform as shown in <a href="#fig-sim-illustrate-random-sampling" class="quarto-xref">Figure&nbsp;<span>3.1</span></a>): In the long run, 95% of the intervals it produces include the target parameter. However, statistical theory guarantees this performance only if the samples are drawn at random from the underlying population.</p>
<div class="cell page-columns page-full">
<div class="cell-output-display page-columns page-full">
<div id="fig-sim-illustrate-random-sampling" class="quarto-float quarto-figure quarto-figure-center anchored page-columns page-full">
<figure class="quarto-float quarto-float-fig figure page-columns page-full">
<div aria-describedby="fig-sim-illustrate-random-sampling-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca" class="page-columns page-full">
<img src="02_statistical_inference_files/figure-html/fig-sim-illustrate-random-sampling-1.png" class="img-fluid figure-img column-page-right" width="643">
</div>
<figcaption class="quarto-float-caption-margin quarto-float-caption quarto-float-fig" id="fig-sim-illustrate-random-sampling-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3.1: Illustration of random sampling, sampling distributions, and confidence intervals.
</figcaption>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="sec-stat-inf-sample-struc-pop" class="level2 page-columns page-full" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="sec-stat-inf-sample-struc-pop"><span class="header-section-number">3.3</span> Sampling from a structured population</h2>
<p>Let us now consider a situation where we have not one set of independent units, but rather observations that are grouped in some meaningful way. These groups of data points could represent different categorical features. They could be different genres, different speakers, different semantic classes of nouns, or different words. These variables differ in terms of the number of existing groups, or levels of the grouping variable. The set of semantic classes for nouns is finite, and a study could include all levels of this variable. The number of genres, on the other hand, while finite, is much larger. A study is unlikely to be able to include even a near-exhaustive collection of genres. The same is true for words. Finally, the set of speakers is usually even larger.</p>
<p>These classificatory variables also differ in terms of the amount of research interest that attaches to the individual levels that are included in a study. Thus, each semantic class will be of interest, as well as comparisons among them. The same is usually true for genres. As for individual words, the researcher only sometimes attends to the individual forms under investigation. Finally, particular speakers are usually not of direct interest.</p>
<p>In terms of the horizontal dimension in <a href="01_research_objectives.html#fig-scientific-objectives" class="quarto-xref">Figure&nbsp;<span>2.1</span></a>, then, we usually wish to generalize across speakers – they usually serve to inform broad-inference estimates. For semantic classes, on the other hand, our concern is with the set at hand, and generalizing beyond a fixed set of semantic categories might be linguistically meaningless. Depending on the focus of a study, genre and word fall somewhere in between these two poles – words perhaps leaning towards the broad-inference pole, and genres to the narrow-inference end.</p>
<p>We will therefore distinguish two canonical cases. In the <em>narrow-inference case</em>, the set of groups under study is of interest in itself. We do not intend to generalize beyond the observed groups, to other unobserved groups. This could be because the set of groups in our sample is exhaustive, and generalization may be therefore be meaningless; or perhaps we have the deliberate decision to restrict our focus to the subset at hand. In the narrow-inference case, we refer to the groups as <em>strata</em>. In the other setting, the <em>broad-inference case</em>, generalization beyond the set of groups observed is a primary concern. This would be the case if the set of groups is a small fraction of a much larger population of groups. In the broad-inference case, we will refer to the groups as <em>clusters</em>.</p>
<section id="stratified-sampling" class="level3 page-columns page-full" data-number="3.3.1">
<h3 data-number="3.3.1" class="anchored" data-anchor-id="stratified-sampling"><span class="header-section-number">3.3.1</span> Stratified sampling</h3>
<div class="cell page-columns page-full">
<div class="cell-output-display page-columns page-full">
<div id="fig-sim-illustrate-stratified-sampling" class="quarto-float quarto-figure quarto-figure-center anchored page-columns page-full">
<figure class="quarto-float quarto-float-fig figure page-columns page-full">
<div aria-describedby="fig-sim-illustrate-stratified-sampling-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca" class="page-columns page-full">
<img src="02_statistical_inference_files/figure-html/fig-sim-illustrate-stratified-sampling-1.png" class="img-fluid figure-img column-page-right" width="643">
</div>
<figcaption class="quarto-float-caption-margin quarto-float-caption quarto-float-fig" id="fig-sim-illustrate-stratified-sampling-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3.2: Illustration of stratified sampling.
</figcaption>
</figure>
</div>
</div>
</div>
<ol class="example" type="1">
<li>illustrates stratified sampling. There are 5 groups, or strata, and for each simulation run, we sample 100 observations from each stratum. Groups are distinguished using different colors, and the values produced by a single simulation run are connected by a thin vertical line. Each stratum has its own underlying population parameter: .30 (grey), .35 (blue), .50 (red), .60 (green), and .75 (yellow). Similar to the sampling variation shown in <a href="#fig-sim-illustrate-random-sampling" class="quarto-xref">Figure&nbsp;<span>3.1</span></a>), there is sample-to-sample variation around these population parameters. The dot diagrams in the far right panel (c) show, for each stratum, the distribution of simulated sample statistics. The dot diagram in panel (b) collapses these into a single distribution of estimates.</li>
</ol>
<p>In panel (a), estimates of the overall population average, i.e.&nbsp;the simple average over the five strata is shown using black filled circles. The average proportion over the five sub-population parameters is .50. The estimates hover tightly around this true value, and the statistical uncertainty, as indicated by the error intervals, is quite small. These uncertainty intervals are narrow-inference intervals: They refer only to the five strata and statistical inferences therefore also extend only to these five groups – in this case, the simple average over the five groups.</p>
</section>
<section id="cluster-sampling" class="level3 page-columns page-full" data-number="3.3.2">
<h3 data-number="3.3.2" class="anchored" data-anchor-id="cluster-sampling"><span class="header-section-number">3.3.2</span> Cluster sampling</h3>
<div class="cell page-columns page-full">
<div class="cell-output-display page-columns page-full">
<div id="fig-sim-illustrate-cluster-sampling" class="quarto-float quarto-figure quarto-figure-center anchored page-columns page-full">
<figure class="quarto-float quarto-float-fig figure page-columns page-full">
<div aria-describedby="fig-sim-illustrate-cluster-sampling-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca" class="page-columns page-full">
<img src="02_statistical_inference_files/figure-html/fig-sim-illustrate-cluster-sampling-1.png" class="img-fluid figure-img column-page-right" width="720">
</div>
<figcaption class="quarto-float-caption-margin quarto-float-caption quarto-float-fig" id="fig-sim-illustrate-cluster-sampling-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3.3: Illustration of cluster sampling.
</figcaption>
</figure>
</div>
</div>
</div>
<p><a href="#fig-sim-illustrate-cluster-sampling" class="quarto-xref">Figure&nbsp;<span>3.3</span></a> illustrates cluster sampling. Each simulation run samples 100 observations from each of five groups, or clusters – similar to the setting just discussed. In contrast to stratified sampling, however, we do not repeatedly sample from the same five groups. Instead, the groups themselves are also a random sample from a much larger population of groups. This means that there is now sampling variation at two levels: From each group that is selected, we draw a random sample of 100 observations. This leads to the kind of sample-to-sample variation that we saw in <a href="#fig-sim-illustrate-random-sampling" class="quarto-xref">Figure&nbsp;<span>3.1</span></a>), and which also appear is 1), in the for of the colored dot diagrams in panel (c). For cluster sampling, there is a second source of sampling variation: The five groups are selected from a population of groups. This population of groups has a true underlying population average (also set to .50 in the current example), and a dispersion parameter indicating the variation among groups (here a standard deviation of 0.65 on the logit scale). The amount of variation among groups in the population is indicated in panel (b), which collects all cluster estimates. Drawing five clusters from this population will produce considerable fluctuation around the population parameter of .50. This is evident from the much more lively vacillation of the simulated group sets, which are again connected by a thin vertical line, as well as the variation of the averages based on the simulated cluster sets.</p>
<p>The uncertainty intervals in panel (a) are narrow-inference estimates, and therefore of the same type as those shown in 1). These error intervals fail to provide adequate coverage of the true population parameter of .50. Each interval does provide a valid uncertainty indication for the 5 clusters that happened to occur in a particular simulation run. For statistical inferences reaching beyond these five units, the error intervals are not adequate, since they do not take into account the extra sampling variation that is due to the fact that our 5 groups are also a random sample from a population of groups. Panel (c) shows the same point estimates as panel (a), but with uncertainty intervals adjusted from this additional source of variation. These are broad-inference estimates.</p>
</section>
<section id="cluster-sampling-estimating-averages" class="level3 page-columns page-full" data-number="3.3.3">
<h3 data-number="3.3.3" class="anchored" data-anchor-id="cluster-sampling-estimating-averages"><span class="header-section-number">3.3.3</span> Cluster sampling: Estimating averages</h3>
<div class="cell page-columns page-full" height="2.2" width="4">

<div class="no-row-height column-margin column-container"><div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="02_statistical_inference_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div></div></div>
<div class="cell page-columns page-full">
<div class="cell-output-display page-columns page-full">
<div class="page-columns page-full">
<figure class="figure page-columns page-full">
<p class="page-columns page-full"><img src="02_statistical_inference_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img column-page-right" width="643"></p>
</figure>
</div>
</div>
</div>
<div class="cell page-columns page-full">
<div class="cell-output-display page-columns page-full">
<div class="page-columns page-full">
<figure class="figure page-columns page-full">
<p class="page-columns page-full"><img src="02_statistical_inference_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img column-page-right" width="643"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="cluster-sampling-estimating-differences" class="level3 page-columns page-full" data-number="3.3.4">
<h3 data-number="3.3.4" class="anchored" data-anchor-id="cluster-sampling-estimating-differences"><span class="header-section-number">3.3.4</span> Cluster sampling: Estimating differences</h3>
<div class="cell page-columns page-full">
<div class="cell-output-display page-columns page-full">
<div class="page-columns page-full">
<figure class="figure page-columns page-full">
<p class="page-columns page-full"><img src="02_statistical_inference_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img column-page-right" width="643"></p>
</figure>
</div>
</div>
</div>
<div class="cell page-columns page-full">
<div class="cell-output-display page-columns page-full">
<div class="page-columns page-full">
<figure class="figure page-columns page-full">
<p class="page-columns page-full"><img src="02_statistical_inference_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid figure-img column-page-right" width="643"></p>
</figure>
</div>
</div>
</div>
<div class="cell page-columns page-full">
<div class="cell-output-display page-columns page-full">
<div class="page-columns page-full">
<figure class="figure page-columns page-full">
<p class="page-columns page-full"><img src="02_statistical_inference_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid figure-img column-page-right" width="643"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="random-sampling-as-a-methodological-device" class="level2" data-number="3.4">
<h2 data-number="3.4" class="anchored" data-anchor-id="random-sampling-as-a-methodological-device"><span class="header-section-number">3.4</span> Random sampling as a methodological device</h2>
<section id="the-role-of-random-sampling" class="level3" data-number="3.4.1">
<h3 data-number="3.4.1" class="anchored" data-anchor-id="the-role-of-random-sampling"><span class="header-section-number">3.4.1</span> The role of random sampling</h3>
<p>The statistical theory underlying the calculation of uncertainty estimates rests on certain idealizations. Thus, one critical assumption is that the sample at hand is a <em>random sample</em> from the population of interest. A sample can be considered random if each unit in the population has the <em>same probability of being selected</em>. This random, equal-probability feature guarantees, in the long run, the absence of systematic distortions in the resulting samples and thereby avoids systematic musrepresentation of the population. It means that the kinds of samples obtained via this process are, on average, unbiased in the sense that they do not over- or underrepresent certain parts of the population. The sample does not differ in some systematic way from the population. This does not mean that the random subset we obtain can be considered a miniature version of the target population. It just means that there is no systematic discrepancy.</p>
<p>In practice, random sampling is a methodological device. It is a data collection strategy that avoids biased samples – there is no reason to question the regresentativeness of a random sample. It allows the researcher to justify generalizations to the population on statistical grounds, and take statistical inferences at face value. It is a long-run guarantee of valid descriptive inferences. It also guards against methodological criticism.</p>
<p>Only in such idealized settings, then, can the researcher appeal to statistical theory to justify generalizations from sample to population. These idealized settings are captured in the set of assumptions underlying a statistical procedure – random sampling is one of these assumptions. From the viewpoint of statistical theory, these assumptions are <em>prerequisites</em> to valid descriptive inferences. Statistical theory can provide long-run guarantees only if prerequisites are met.</p>
</section>
<section id="relation-to-inference-types" class="level3" data-number="3.4.2">
<h3 data-number="3.4.2" class="anchored" data-anchor-id="relation-to-inference-types"><span class="header-section-number">3.4.2</span> Relation to inference types</h3>
<p>Unbiased samples are essential for descriptive inference and broad inference. They are less essential for analytic inference and narrow inference.</p>
<p><span class="citation" data-cites="Mook1983">Mook (<a href="references.html#ref-Mook1983" role="doc-biblioref">1983</a>)</span> <span class="citation" data-cites="Mook1982">Mook (<a href="references.html#ref-Mook1982" role="doc-biblioref">1982</a>)</span> <span class="citation" data-cites="Cox1958">Cox (<a href="references.html#ref-Cox1958" role="doc-biblioref">1958</a>)</span></p>
<p>However, we need to carefully weigh the pros and cons of this procedural decision <span class="citation" data-cites="Mook1982">(<a href="references.html#ref-Mook1982" role="doc-biblioref">Mook 1982, 33–38</a>)</span>.</p>
</section>
<section id="inferences-from-non-random-samples" class="level3" data-number="3.4.3">
<h3 data-number="3.4.3" class="anchored" data-anchor-id="inferences-from-non-random-samples"><span class="header-section-number">3.4.3</span> Inferences from non-random samples</h3>
<p>Beyond these idealized circumstances, statistical theory does not provide safeguards against erroneous inferences. Whenever the data at hand depart from the assumptive ideal, <em>extra-statistical</em> knowledge must be brought to bear on the inferential task. The question of how much meaning we may attach to statistical inferences is a matter of judgement. The researcher must decide to which extent the prerequisites to (or assumptions for) valid inferences are met and what consequences imperfections have for our linguistic conclusions. Such judgement is necessarily based on incomplete knowledge. As <span class="citation" data-cites="Cobb1998">(<a href="references.html#ref-Cobb1998" role="doc-biblioref">Cobb 1998, 385</a>)</span> notes: “Then (as always), you can cross your fingers and substitute an assumption for the information you wish you had, being careful to remind yourself that the more untested assumptions you make, the more tentative your conclusions should be.”</p>
<p>When working with non-random samples, the important question is whether the sampling procedure that was used has given rise to an unrepresentative sample. A sample is unrepresentative if it differs from the population in terms of <em>relevant factors</em> <span class="citation" data-cites="Bottai2014">(<a href="references.html#ref-Bottai2014" role="doc-biblioref">Bottai 2014, 229</a>)</span>, that is, factors to which the outcome quantity is sensitive. The question of whether the sampling process was biased in some way can only be answered by knowledge about the sampling method used, the target population and relevant factors. If we genuinely conclude that, to the best of our current knowledge, our sample does not suffer from systematic distortions, we can consider the set of observations at hand as representative of the target population. Given this working state of knowledge, methods of statistical inference may be applied. In this context, <span class="citation" data-cites="Fisher1956">Fisher (<a href="references.html#ref-Fisher1956" role="doc-biblioref">1956, 33</a>)</span> talks of “necessary ignorance” as a prerequisite to descriptive inferences. As <span class="citation" data-cites="Johnstone1989">(<a href="references.html#ref-Johnstone1989" role="doc-biblioref">Johnstone 1989, 449</a>, emphasis in original)</span> notes, “[h]owever, this ignorance must be <em>bona fide</em>. It remains a cardinal methodological sin to suppress or ignore relevant information, either actively or by leaving particular stones unturned.”</p>
<p>In the Bayesian approach to statistical inference, the assumption of random sampling corresponds to the notion of <em>exchangeability</em> (<span class="citation" data-cites="Lindley_Novick1981">Lindley and Novick (<a href="references.html#ref-Lindley_Novick1981" role="doc-biblioref">1981</a>)</span>; <span class="citation" data-cites="Draper_etal1993">Draper et al. (<a href="references.html#ref-Draper_etal1993" role="doc-biblioref">1993</a>)</span>], which is the assumption of similarity (and therefore, for practical purposes the interchangeability) of observed units in the sample and the unobserved units in the population. A biased sampling process would lead to dissimilar, non-exchangeable sets of entities.</p>
<p>In cases where we discern differences between our sample and the target population, we are unable to produce valid inferences for the population of interest. In such cases, we first need to clearly state the discrepancies. The sample will then not represent the entire target population, but a particular subset of it. This subset is often called the <em>sampled population</em> <span class="citation" data-cites="Cochran1983">(<a href="references.html#ref-Cochran1983" role="doc-biblioref">Cochran 1983, 4</a>)</span> or the <em>ad-hoc population</em> <span class="citation" data-cites="Mook1982">(<a href="references.html#ref-Mook1982" role="doc-biblioref">Mook 1982, 37</a>)</span>, and it is the conceptual population to which we may extend our descriptive inferences.</p>
<p>Before we consider questions of random sampling in the context of corpus data analysis, let us briefly summarize the main points so far. Random sampling is helpful methodologically, but what ultimately matters for valid statistical inference is the absence of bias from the sample. If the researcher’s line of argument depends (in part) on statistical inferences, they will need to defend their validity. If random sampling was used, we can appeal to statistical theory. In the absence of random sampling, we have to convince ourselves and our audience that the sampling process we used was unbiased. If we detect systematic mismatches between sample and target population, we can specify the sampled population to which our inferences may legitimately apply.</p>
</section>
</section>
<section id="corpus-data-non-random-samples" class="level2 page-columns page-full" data-number="3.5">
<h2 data-number="3.5" class="anchored" data-anchor-id="corpus-data-non-random-samples"><span class="header-section-number">3.5</span> Corpus data: Non-random samples</h2>
<p>Statistical inference can also be applied for non-random samples. Then, however, statistical theory no longer offers a protective belt against discrepancies between the target of our inferences and the information at hand. There is no guarantee of absence of bias in our sample. This does not mean that statistical inferences cannot be made. But with non-random samples, the researcher’s expertise and judgement is called for in order to decide which interpretations can be attached to inferential results. This could involve an explicit formulation of the <em>sampled population</em>, i.e.&nbsp;the population that our non-random sample <em>does</em> represent, and how it differs from the population of interest, or <em>target population</em>.</p>
<p>The question of corpus data and random sampling can be addressed from two perspective: (i) the compilation of the corpus and (ii) the set of observations extracted to address a particular research question.</p>
<p>Constraints on generality</p>
<p>“Very often the attempt to select a representative sample of some population is unnecessary , or more trouble than it is worth, or even impossible in principle.” <span class="citation" data-cites="Mook1982">(<a href="references.html#ref-Mook1982" role="doc-biblioref">Mook 1982, 38</a>)</span></p>
<section id="corpus-compilation" class="level3 page-columns page-full" data-number="3.5.1">
<h3 data-number="3.5.1" class="anchored" data-anchor-id="corpus-compilation"><span class="header-section-number">3.5.1</span> Corpus compilation</h3>
<p>For corpus compilation, it seems difficult to carry out actual random sampling. It is impossible to enumerate the units in the population of interest – for a spoken corpus, these are the speakers of a particular language (variety); for a written corpus, the collection of written texts produced by the population of interest. This enumeration, however, is necessary to assign equal probability to each unit in the population. Nevertheless, a researcher can take precautions to strengthen the regresentativeness and therefore the validity of statistical inferences. Through careful definition of the target population, the arrangement of a sampling frame, and the use of near-random selection procedures, an effort can be made to avoid systematic discrepancies between sample and population. A further desirable feature is to give equal weight to the sampled units, which would mean that roughly the same number of words are taken from each speaker or text.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> However, potential imbalances can also be addressed at the analysis stage, where the units can be treated even-handedly.</p>
<div class="no-row-height column-margin column-container"><div id="fn1"><p><sup>1</sup>&nbsp;Spoken BNC2014</p></div></div></section>
<section id="corpus-data" class="level3" data-number="3.5.2">
<h3 data-number="3.5.2" class="anchored" data-anchor-id="corpus-data"><span class="header-section-number">3.5.2</span> Corpus data</h3>
<p>When using corpora as a source of data on a particular linguistic phenomenon, we extract relevant hits from a corpus. This set of hits then constitutes the sample on which our analyses and interpretations are based. If the compilation of the corpus took methodological precautions against bias, it appears reasonable to assume that this will carry forward into the set of corpus hits at hand. Note, however, that the structure of interest may be used at different rates by different speakers. Thus, a perfectly balanced corpus, with the same number of words sampled, say, from each text, does not guarantee balanced token counts for the structure of interest. This, again, would need to be addressed at the analysis stage.</p>
<p>Depending on the type of structure we are studying, there may be additional populations from which we are effectively sampling. For instance, when studying certain type of syntactic pattern, say ditransitive constructions, these will be instantiated by different lexical elements. We are therefore also sampling from the population of ditransitive verbs. Or consider the English comparative alternation, where we are sampling from the population of gradable adjectives. This kind of sampling occurs on a language-internal level, and the researcher has no control over the kinds of lexical units returned by a corpus query. In fact, the set of corpus hits will show decisively non-random features, due to universal distributional features of language use. Overall, the selection of units obtained will be biased towards higher-frequency forms, which are more likely to be observed and therefore make it into our sample. Further, the token distribution across lexical units (e.g.&nbsp;gradable adjectives) will be uneven, and very likely skewed.</p>
<p>It is fair to say that corpora and corpus data rarely (if ever) represent truly random samples. When sampling speakers or texts for corpus compilation, methodological efforts can be made to work towards the idealized setting of a randomly selected, representative sample of language use. The set of units that we obtain at the language-internal level, however, is bound to be systematically biased. This means that, for corpus data analysis, there are no methodological precautions against certain distortions in our portrayal of the population. Such issue require careful linguistic attention.</p>
</section>
</section>
<section id="populations-in-language-data-analysis" class="level2" data-number="3.6">
<h2 data-number="3.6" class="anchored" data-anchor-id="populations-in-language-data-analysis"><span class="header-section-number">3.6</span> Populations in language data analysis</h2>
<p><span class="citation" data-cites="Spiegelhalter2019">(<a href="references.html#ref-Spiegelhalter2019" role="doc-biblioref">Spiegelhalter 2019, 91–92</a>)</span> distinguishes three types of populations:</p>
<ul>
<li>A <em>literal</em> population: The usual state of affairs.</li>
<li>A <em>virtual</em> population: Measurement error.</li>
<li>A <em>metaphorical</em> population.</li>
</ul>
<p>Conceptual populations</p>
<p>In survey sampling, it is also conceded that interest may extend beyond finite populations (e.g. <span class="citation" data-cites="Cochran1977">Cochran (<a href="references.html#ref-Cochran1977" role="doc-biblioref">1977, 39</a>)</span>; ).</p>
<p><strong>superpopulation</strong></p>
<p><span class="citation" data-cites="Lohr2022">Lohr (<a href="references.html#ref-Lohr2022" role="doc-biblioref">2022, 47</a>)</span> mentions the notion of a superpopulation as an alternative universes in which circumstances were slightly different.</p>
<p>What is a population?</p>
<p>“Population is an abstract concept fundamental to statistics. It refers to the totality of numbers that would result from indefinitely many repetitions of the same process of selecting objects, measuring or classifying them, and recording the results. A population is, thus, a fixed body of numbers, and it is this general body of numbers about which we would like to know.” <span class="citation" data-cites="Wallis_Roberts1956">(<a href="references.html#ref-Wallis_Roberts1956" role="doc-biblioref">Wallis and Roberts 1956, 126</a>)</span></p>


<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list" style="display: none">
<div id="ref-Bottai2014" class="csl-entry" role="listitem">
Bottai, Matteo. 2014. <span>“Lessons in Biostatistics: <span>I</span>nferences and Conjectures about Average and Conditional Treatment Effects in Randomized Trials and Observational Studies.”</span> <em>Journal of Internal Medicine</em> 276 (3): 229–37. <a href="https://doi.org/10.1111/joim.12283">https://doi.org/10.1111/joim.12283</a>.
</div>
<div id="ref-Cobb1998" class="csl-entry" role="listitem">
Cobb, George W. 1998. <em>Introduction to Design and Analysis of Experiments</em>. New York: Springer.
</div>
<div id="ref-Cochran1977" class="csl-entry" role="listitem">
Cochran, William G. 1977. <em>Sampling Techniques</em>. New York: Wiley.
</div>
<div id="ref-Cochran1983" class="csl-entry" role="listitem">
———. 1983. <em>Planning and Analysis of Observational Studies</em>. New York: Wiley.
</div>
<div id="ref-Cox1958" class="csl-entry" role="listitem">
Cox, David R. 1958. <em>Planning of Experiments</em>. New York: Wiley.
</div>
<div id="ref-Draper_etal1993" class="csl-entry" role="listitem">
Draper, David, James S. Hodges, Colin L. Mallows, and Daryl Pregibon. 1993. <span>“Exchangeability and Data Analysis.”</span> <em>Journal of the Royal Statistical Society A</em> 156 (1): 9–37. <a href="https://doi.org/10.2307/2982858">https://doi.org/10.2307/2982858</a>.
</div>
<div id="ref-Fisher1956" class="csl-entry" role="listitem">
Fisher, Ronald A. 1956. <em>Statistical Methods and Scientific Inference</em>. Edinburgh: Oliver &amp; Boyd.
</div>
<div id="ref-Johnstone1989" class="csl-entry" role="listitem">
Johnstone, David J. 1989. <span>“On the Necessity for Random Sampling.”</span> <em>The British Journal for the Philosophy of Science</em> 40 (4): 443–57. <a href="https://www.jstor.org/stable/687735">https://www.jstor.org/stable/687735</a>.
</div>
<div id="ref-Lindley_Novick1981" class="csl-entry" role="listitem">
Lindley, Deniis V., and Melvin R. Novick. 1981. <span>“The Role of Exchangeability in Inference.”</span> <em>The Annals of Statistics</em> 9 (1): 45–58. <a href="https://doi.org/10.1214/aos/1176345331">https://doi.org/10.1214/aos/1176345331</a>.
</div>
<div id="ref-Lohr2022" class="csl-entry" role="listitem">
Lohr, Sharon L. 2022. <em>Sampling: <span>D</span>esign and Analysis</em>. Boca Raton, FL: CRC Press.
</div>
<div id="ref-Mook1982" class="csl-entry" role="listitem">
Mook, Douglas G. 1982. <em>Psychological Research: <span>S</span>trategy and Tactics</em>. New York: Harper; Row.
</div>
<div id="ref-Mook1983" class="csl-entry" role="listitem">
———. 1983. <span>“In Defense of External Invalidity.”</span> <em>American Psychologist</em> 38 (4): 379–87. <a href="https://doi.org/10.1037/0003-066X.38.4.379">https://doi.org/10.1037/0003-066X.38.4.379</a>.
</div>
<div id="ref-Spiegelhalter2019" class="csl-entry" role="listitem">
Spiegelhalter, David. 2019. <em>The Art of Statistics: <span>L</span>earning from Data</em>. London: Penguin.
</div>
<div id="ref-Wallis_Roberts1956" class="csl-entry" role="listitem">
Wallis, W. Allen, and Harry V. Roberts. 1956. <em>Statistics: <span>A</span> New Approach</em>. Glencoe, IL: The Free Press.
</div>
</div>
</section>


</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./01_research_objectives.html" class="pagination-link" aria-label="Research objectives">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Research objectives</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./03_data_structure.html" class="pagination-link" aria-label="Data structure">
        <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Data structure</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>